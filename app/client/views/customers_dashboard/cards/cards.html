<template name="newCard">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4>Create New Card</h4>
    </div>
    <div class="panel-body">
      {{> quickForm collection='Cards' type='insert' id='createNewCard' omitFields="createdAt,owner,updatedAt"}}
    </div>
  </div>
</template>

<!-- Edit Card -->
<template name="editCard">
  <div class="row">
    <div class="col-md-8">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4>Edit Card</h4>
        </div>
        <div class="panel-body">
            {{> quickForm collection='Cards' doc=card type='update' id='updateCard' omitFields="tokens,createdAt,owner,updatedAt"}}
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="panel">
        <div class="panel-body" style="padding-top: 0px;">
          {{#unless card.hasTokens}}
          <div class="alert alert-warning" role="alert">
            <strong>Warning!</strong> No tokens found for this card.
            Add purchase tokens/codes for your customers.
            <a href="#" class="btn btn-success btn-xs">Add Tokens</a>
          </div>
          <div>
            {{> tokensSetupForm cardId=card._id}}
          </div>
          {{else}}
          <ul class="list-group">
            <li class="list-group-item">Number of Tokens Issued <span class="badge">{{card.numberOfTokens}}</span></li>
            <li class="list-group-item">Number of Tokens used</li>
            <li class="list-group-item">Date Created <span class='badge'>12/12/2015</span></li>
            <li class="list-group-item">Status <span class='badge'>active</span></li>
          </ul>
          {{/unless}}
        </div>
      </div>
    </div>
  </div>
</template>
<template name="cardsTable">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4>Your Cards</h4>
    </div>
    <div class="panel-body">
      All cards being provided
    </div>
    <div class="responsive-table">
      {{#if cards}}
      <table class="table table-striped table-bordered" style="margin-bottom: 0px;">
        <thead>
          <tr>
            <th>Card Name</th>
            <th>Descripton</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Active</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {{#each cards}}
          <tr>
            <td>{{name}}</td>
            <td>{{shortDesc}}</td>
            <td>{{price}}</td>
            <td>{{numberOfTokens}}</td>
            <td></td>
            <td>
              <a href="{{pathFor 'editCard' _id=_id}}">Edit</a>
            </td>
          </tr>
          {{/each}}
        </tbody>
      </table>
      {{else}}
      <a href="{{pathFor 'newCard'}}" class="btn btn-sm btn-primary">Create New card</a>
      {{/if}}
    </div>
  </div>
</template>
